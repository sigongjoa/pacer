# Pacer 카카오톡 연동 설정 가이드

## 개요

이 문서는 Pacer 시스템에 카카오톡 메시지 발송 기능을 연동하기 위해 **사용자가 직접 수행해야 하는 설정 작업**과, 그 이후에 진행될 **소프트웨어 개발 계획**을 안내합니다.

개발 작업을 시작하기 전에, 아래 **1부의 모든 설정이 반드시 완료**되어야 합니다.

---

## 1부: 사용자 설정 가이드 (직접 수행)

**목표:** 카카오 개발자 사이트에서 Pacer 애플리케이션을 설정하고, 메시지 발송에 필요한 **REST API 키**를 발급받습니다.

**단계별 절차:**

1.  **카카오 개발자 사이트 접속**
    - 웹 브라우저를 열고 [카카오 개발자 사이트](https://developers.kakao.com/)로 이동하여 로그인합니다.

2.  **애플리케이션 생성**
    - 로그인 후, 상단의 [내 애플리케이션] 메뉴로 이동합니다.
    - [애플리케이션 추가하기] 버튼을 클릭합니다.
    - '앱 이름'(예: Pacer), '사업자명' 등을 입력하고 [저장] 버튼을 눌러 새 애플리케이션을 생성합니다.

3.  **REST API 키 확인**
    - 생성된 애플리케이션을 선택하여 [앱 설정] > [요약 정보] 페이지로 이동합니다.
    - '앱 키' 섹션에 있는 **REST API 키**를 복사하여 안전한 곳(예: 개인 메모장)에 보관합니다. 이 키는 개발 단계에서 필요합니다.

4.  **카카오톡 채널 생성**
    - Pacer 서비스를 대표할 카카오톡 채널이 없다면, [카카오톡 채널 관리자 센터](https://center-pf.kakao.com/)에서 채널을 새로 개설합니다.

5.  **애플리케이션과 채널 연결**
    - 다시 카카오 개발자 사이트의 [내 애플리케이션] > [제품 설정] > [카카오톡 채널] 메뉴로 이동합니다.
    - '카카오톡 채널 연결' 섹션에서 개설한 채널을 검색하여 연결하고, '활성화 설정'을 ON으로 변경합니다.

6.  **메시지 기능 활성화**
    - 동일한 페이지([카카오톡 채널] 메뉴)에서 '메시지' 섹션을 찾습니다.
    - '채널 메시지 보내기' 기능의 상태를 **ON**으로 변경합니다.

**완료 확인:**
위 6단계를 모두 마치셨다면, **REST API 키**를 확보하고 Pacer 앱과 연결된 카카오톡 채널이 준비된 상태여야 합니다. 이 준비가 완료되면 다음 개발 단계로 넘어갈 수 있습니다.

---

## 2부: 개발 진행 계획 (Gemini 수행)

위 `1부: 사용자 설정 가이드`가 모두 완료되고 저에게 알려주시면, 제가 다음 개발 작업을 진행하겠습니다.

1.  **데이터베이스 모델링**
    - 학부모 정보와 카카오 사용자 ID를 저장할 `Parent` 모델을 `models.py`에 추가하고, 학생 모델과 관계를 설정합니다.

2.  **보안 설정**
    - 제공해주실 REST API 키를 `.env` 파일에 안전하게 저장하고, 이 파일이 외부에 노출되지 않도록 `.gitignore`에 등록합니다.

3.  **카카오 메시지 발송 모듈 개발**
    - 카카오톡 메시지 API 호출을 전담할 `backend/kakao_sender.py` 모듈을 개발합니다.
    - 이 모듈에는 리포트 내용을 카카오톡 템플릿에 맞춰 변환하고, 실제 API를 호출하여 메시지를 발송하는 함수가 포함됩니다.

4.  **기존 API와 연동**
    - 코치가 리포트를 최종 승인하고 '발송' 버튼을 눌렀을 때, 위에서 개발한 `kakao_sender` 모듈을 통해 학부모에게 메시지가 발송되도록 기존 API 로직을 수정합니다.
